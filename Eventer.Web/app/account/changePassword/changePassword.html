<form name="ChangePasswordForm" novalidate ng-submit="ChangePasswordForm.$valid &&
        ctrl.changePassword(ChangePasswordForm, ctrl.user)">
    <div class="modal-content">
        <div class="modal-header">
            <h4 class="modal-title" id="changePasswordModalLabel">Change password</h4>
        </div>
        <div class="modal-body">
            <div class="row">
                <div class="col-md-6">
                    <div class="form-group" ng-class="{'has-success': ctrl.oldPasswordValid(ChangePasswordForm),
                            'has-error': ctrl.oldPasswordInvalid(ChangePasswordForm)}">
                        <label for="oldPassword">Old password</label>
                        <input name="OldPassword" type="password" class="form-control" id="oldPassword"
                               placeholder="Enter your actual password" required ng-model="ctrl.user.oldPassword"
                               ng-model-options="{updateOn: 'blur'}">
                    </div>
                </div>
            </div>

            <div class="row paddingBottom20" ng-show="ctrl.oldPasswordInvalid(ChangePasswordForm)">
                <div class="col-md-6" ng-show="ctrl.oldPasswordShowError(ChangePasswordForm)">
                    <span class="text-danger" ng-show="ctrl.OldPassword.$error.required">
                        Actual password is required.
                    </span>
                </div>
            </div>

            <div class="row">
                <div class="col-md-6">
                    <div class="form-group" ng-class="{'has-success': ctrl.newPasswordValid(ChangePasswordForm),
                            'has-error': ctrl.newPasswordInvalid(ChangePasswordForm)}">
                        <label for="newPassword">New password</label>
                        <input name="NewPassword" type="password" class="form-control" id="newPassword"
                               placeholder="Enter your new password" required ng-model="ctrl.user.newPassword"
                               ng-model-options="{updateOn: 'blur'}" password-match="ctrl.user.oldPassword">
                    </div>
                </div>

                <div class="col-md-6">
                    <div class="form-group" ng-class="{'has-success': ctrl.confirmNewPasswordValid(ChangePasswordForm),
                            'has-error': ctrl.confirmNewPasswordInvalid(ChangePasswordForm)}">
                        <label for="confirmNewPassword">Confirm new password</label>
                        <input name="ConfirmNewPassword" type="password" class="form-control" id="confirmNewPassword"
                               placeholder="Confirm your new password" required ng-model="ctrl.user.confirmNewPassword"
                               ng-model-options="{updateOn: 'blur'}" password-check="ctrl.user.newPassword">
                    </div>
                </div>
            </div>

            <div class="row paddingBottom20" ng-show="ctrl.newPasswordInvalid(ChangePasswordForm) || ctrl.confirmNewPasswordInvalid(ChangePasswordForm)">
                <div class="col-md-6" ng-show="ctrl.newPasswordShowError(ChangePasswordForm)">
                    <span class="text-danger" ng-show="ChangePasswordForm.NewPassword.$error.required">
                        New password is required.
                    </span>
                    <span class="text-danger" ng-show="ChangePasswordForm.NewPassword.$error.passwordMatch">
                        New password and old password cannot be same.
                    </span>
                </div>

                <div class="col-md-6" ng-show="ctrl.confirmNewPasswordShowError(ChangePasswordForm)">
                    <span class="text-danger" ng-show="ChangePasswordForm.ConfirmNewPassword.$error.required">
                        New password has to be confirmed.
                    </span>
                    <span class="text-danger" ng-show="ChangePasswordForm.ConfirmNewPassword.$error.passwordCheck &&
                            ChangePasswordForm.NewPassword.$valid">
                        Password and confirmed password do not match.
                    </span>
                </div>
            </div>

            <div class="row" style="padding-top: 15px;" ng-show="ctrl.changePasswordResponse()">
                <div class="col-md-12" style="font-size: 2rem">
                    <span class="text-success" ng-show="ctrl.changePasswordSuccess">{{ctrl.changePasswordSuccess}}</span>
                    <span class="text-danger" ng-show="ctrl.changePasswordError" ng-bind-html="ctrl.changePasswordError">

                    </span>
                </div>
            </div>

        </div>
        <div class="modal-footer">
            <input type="button" class="btn btn-warning pull-left" ng-click="ctrl.reset(ChangePasswordForm)" value="Reset" />
            <button type="button" class="btn btn-danger" ng-click="ctrl.close()">Close</button>
            <input type="submit" class="btn btn-success pull-right" value="Change" />
        </div>
    </div>
</form>